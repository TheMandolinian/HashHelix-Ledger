{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://hashhelix.dev/schemas/master-validator.stage5.json",
  "title": "HashHelix Stage 5 Master Validator",
  "description": "Root schema for validating all Stage 5 constructs: relics, tiers, lanes, checkpoints, and proofs-of-determinism.",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "version",
    "rootRelic",
    "laneManifest",
    "checkpoints",
    "proofs"
  ],
  "properties": {
    "version": {
      "type": "string"
    },
    "rootRelic": {
      "$ref": "#/defs/rootRelic"
    },
    "laneManifest": {
      "$ref": "#/defs/laneMetadata"
    },
    "checkpoints": {
      "type": "array",
      "items": { "$ref": "#/defs/checkpointChainEntry" }
    },
    "proofs": {
      "type": "array",
      "items": { "$ref": "#/defs/proofObject" }
    }
  },
  "defs": {
    "rootRelic": {
      "$ref": "root-relic.stage5.json"
    },
    "laneMetadata": {
      "$ref": "lane-metadata.stage5.json"
    },
    "checkpointChainEntry": {
      "$ref": "checkpoint-chain.stage5.json"
    },
    "proofObject": {
      "$ref": "relicTier.stage5.json"
    }
  }
}
