{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://hashhelix.dev/schemas/root-relic.stage5.json",
  "title": "HashHelix Stage 5 Root Temporal Relic",
  "type": "object",

  "required": [
    "relicId",
    "tier",
    "metadata",
    "payload",
    "vaultMetadata",
    "lineage",
    "hashBundle",
    "temporalSignature"
  ],

  "properties": {
    "relicId": {
      "type": "string",
      "description": "Unique identifier for this relic."
    },

    "tier": {
      "$ref": "#/$defs/RelicTier"
    },

    "metadata": {
      "$ref": "relic-metadata.stage5.json"
    },

    "payload": {
      "type": "object",
      "description": "The actual data payload for this root relic."
    },

    "vaultMetadata": {
      "$ref": "#/$defs/VaultMetadata"
    },

    "lineage": {
      "type": "string",
      "description": "Chain-of-custody or generational lineage of this artifact."
    },

    "hashBundle": {
      "$ref": "#/$defs/HashBundle"
    },

    "temporalSignature": {
      "$ref": "#/$defs/TemporalSignature"
    }
  },

  "$defs": {
    "RelicTier": {
      "type": "string",
      "enum": ["root", "ancestral", "prime", "derived"],
      "description": "Tier classification for relic vaulting and retention."
    },

    "VaultMetadata": {
      "type": "object",
      "required": ["tier", "location", "retention"],
      "properties": {
        "tier": {
          "$ref": "#/$defs/RelicTier"
        },
        "location": {
          "type": "string",
          "description": "Physical or logical location of vault storage."
        },
        "retention": {
          "type": "string",
          "description": "How long this data is required to be stored (e.g., compliance period)."
        },
        "notes": {
          "type": "string",
          "description": "Optional operator metadata regarding vault-handling."
        }
      },
      "additionalProperties": false
    },

    "HashBundle": {
      "type": "object",
      "properties": {
        "sha256": { "type": "string", "pattern": "^[a-f0-9]{64}$" }
      },
      "required": ["sha256"],
      "additionalProperties": false
    },

    "TemporalSignature": {
      "type": "object",
      "properties": {
        "laneId": { "type": "string" },
        "epoch": { "type": "integer" },
        "proof": { "type": "string" }
      },
      "required": ["laneId", "epoch", "proof"],
      "additionalProperties": false
    }
  },

  "additionalProperties": false
}
